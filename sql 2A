BEGIN
  EXECUTE IMMEDIATE 'DROP SYNONYM stud';
EXCEPTION
  WHEN OTHERS THEN NULL;
END;
/

BEGIN
  EXECUTE IMMEDIATE 'DROP VIEW comp_students';
EXCEPTION
  WHEN OTHERS THEN NULL;
END;
/

BEGIN
  EXECUTE IMMEDIATE 'DROP INDEX idx_branch';
EXCEPTION
  WHEN OTHERS THEN NULL;
END;
/

BEGIN
  EXECUTE IMMEDIATE 'DROP SEQUENCE stud_seq';
EXCEPTION
  WHEN OTHERS THEN NULL;
END;
/

BEGIN
  EXECUTE IMMEDIATE 'DROP TABLE student';
EXCEPTION
  WHEN OTHERS THEN NULL;
END;
/

CREATE TABLE student (
  stud_id NUMBER PRIMARY KEY,
  name VARCHAR2(30) NOT NULL,
  branch VARCHAR2(20),
  marks NUMBER CHECK (marks BETWEEN 0 AND 100),
  email VARCHAR2(40) UNIQUE
);

CREATE SEQUENCE stud_seq
START WITH 1
INCREMENT BY 1;

INSERT INTO student VALUES (stud_seq.NEXTVAL, 'Harshad', 'Comp', 85, 'harshad@gmail.com');
INSERT INTO student VALUES (stud_seq.NEXTVAL, 'Sneha', 'ENTC', 90, 'sneha@gmail.com');

CREATE VIEW comp_students AS
SELECT name, marks FROM student WHERE branch = 'Comp';

CREATE INDEX idx_branch ON student(branch);

CREATE SYNONYM stud FOR student;

SELECT * FROM comp_students;
SELECT * FROM stud;
